.486
    .model flat, stdcall
    option casemap :none 
    include \masm32\include\windows.inc
    include \masm32\macros\macros.asm
    include \masm32\include\masm32.inc
    include \masm32\include\gdi32.inc
    include \masm32\include\user32.inc
    include \masm32\include\kernel32.inc
    includelib \masm32\lib\masm32.lib
    includelib \masm32\lib\gdi32.lib
    includelib \masm32\lib\user32.lib
    includelib \masm32\lib\kernel32.lib

; ?????????????????????????????????????????????????????????????????????????

    .data  
           counter db 0h
    .code
     
; ?????????????????????????????????????????????????????????????????????????

start:    ; Entry point
    
    jmp l2
    inc edi		;dead code
    mov edi, 1	;dead code
    cmp al, 2
    jle l1
    nop
    nop
    nop
    nop
l1:
    cmp al, 2
    jge l2
    nop
    nop
    nop
    nop
    
l2:
    shr ebx, 30
    shl ebx, 3 
    add ebx, 401000h
    inc counter
    cmp counter, 2
    je l3
    jmp ebx
    
l3:
    shr eax,31
    add eax, 401043h
    cmp ebx,eax
    jz l4
    jmp eax
    
    
    nop
    add eax,ebx
    sub ebx,eax
    jmp l5

l4:
    add ebx,eax
    sub eax,ebx     

l5:

    xor eax,eax
    invoke ExitProcess,0
    
; ?????????????????????????????????????????????????????????????????????????

end start


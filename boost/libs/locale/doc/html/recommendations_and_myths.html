<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Boost.Locale: Recommendations and Myths</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link rel="stylesheet" type="text/css" href="../style/section-basic.css">
</head>
<body>
<div id="boost-common-heading-doc">
    <div class="heading-inner">
        <div class="heading-placard"></div>

        <h1 class="heading-title">
            <a href="http://www.boost.org/">
                <img src="../style/space.png" alt= "Boost C++ Libraries" class="heading-logo" />
                <span class="heading-boost">Boost</span>
                <span class="heading-cpplibraries">C++ Libraries</span>
            </a>
        </h1>

        <p class="heading-quote">

            <q>...one of the most highly
            regarded and expertly designed C++ library projects in the
            world.</q> 
            
            <span class="heading-attribution">&mdash; <a href=
            "http://www.gotw.ca/" class="external">Herb Sutter</a> and <a href=
            "http://en.wikipedia.org/wiki/Andrei_Alexandrescu" class="external">Andrei
            Alexandrescu</a>, <a href=
            "http://safari.awprofessional.com/?XmlId=0321113586" class="external">C++
            Coding Standards</a></span>
        </p>
    </div>
</div>

<div id="boost-common-heading-doc-spacer"></div> 
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="main.html">Boost.Locale</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Recommendations and Myths </h1>  </div>
</div>
<div class="contents">
<h2><a class="anchor" id="recommendations"></a>
Recommendations</h2>
<ul>
<li>The first and most important recommendation: prefer UTF-8 encoding for narrow strings --- it represents all supported Unicode characters and is more convenient for general use than encodings like Latin1.</li>
<li>Remember, there are many different cultures. You can assume very little about the user's language. His calendar may not have "January". It may be not possible to convert strings to integers using <code>atoi</code> because they may not use the "ordinary" digits 0..9 at all. You can't assume that "space" characters are frequent because in Chinese the space character does not separate words. The text may be written from Right-to-Left or from Up-to-Down, and so on.</li>
<li>Using message formatting, try to provide as much context information as you can. Prefer translating entire sentences over single words. When translating words, <b>always</b> add some context information.</li>
</ul>
<h2><a class="anchor" id="myths"></a>
Myths</h2>
<h3><a class="anchor" id="myths_wide"></a>
To use Unicode in my application I should use wide strings everywhere.</h3>
<p>Unicode is not limited to wide strings. Both <code>std::string</code> and <code>std::wstring</code> can hold and process Unicode text. More than that, the semantics of <code>std::string</code> are much cleaner in multi-platform applications, because all "Unicode" strings are UTF-8. "Wide" strings may be encoded in "UTF-16" or "UTF-32", depending on the platform, so they may be even less convenient when dealing with Unicode than <code>char</code> based strings.</p>
<h3><a class="anchor" id="myths_utf16"></a>
UTF-16 is the best encoding to work with.</h3>
<p>There is common assumption that UTF-16 is the best encoding for storing information because it gives "shortest" representation of strings.</p>
<p>In fact, it is probably the most error-prone encoding to work with. The biggest issue is code points that lay outside of the BMP, which must be represented with surrogate pairs. These characters are very rare and many applications are not tested with them.</p>
<p>For example:</p>
<ul>
<li>Qt3 could not deal with characters outside of the BMP.</li>
<li>Editing a character with a codepoint above 0xFFFF often shows an unpleasant bug: for example, to erase such a character in Windows Notepad you have to press backspace twice.</li>
</ul>
<p>So UTF-16 can be used for Unicode, in fact ICU and many other applications use UTF-16 as their internal Unicode representation, but you should be very careful and never assume one-code-point == one-utf16-character. </p>
</div>
<hr class="footer"/><address class="footer"><small>
&copy; Copyright 2009-2011 Artyom Beilis,  Distributed under the <a href="http://www.boost.org/LICENSE_1_0.txt">Boost Software License</a>, Version 1.0.
</small></address>
</body>
</html>
